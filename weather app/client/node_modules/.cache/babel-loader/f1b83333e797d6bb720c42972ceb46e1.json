{"ast":null,"code":"import _slicedToArray from \"C:\\\\web\\\\site\\\\mern-full-course\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\web\\\\site\\\\mern-full-course\\\\client\\\\src\\\\pages\\\\CreatePage.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useHttp } from '../hooks/http.hook';\nimport { AuthContext } from '../context/AuthContext';\nimport { useHistory } from 'react-router-dom';\nexport const CreatePage = () => {\n  const history = useHistory();\n  const auth = useContext(AuthContext);\n\n  const _useHttp = useHttp(),\n        request = _useHttp.request;\n\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        link = _useState2[0],\n        setLink = _useState2[1];\n\n  useEffect(() => {\n    window.M.updateTextFields();\n  }, []);\n\n  const pressHandler = async event => {\n    if (event.key === 'Enter') {\n      try {\n        const data = await request('/api/link/generate', 'POST', {\n          from: link\n        }, {\n          Authorization: `Bearer ${auth.token}`\n        });\n        history.push(`/detail/${data.link._id}`);\n      } catch (e) {}\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col s8 offset-s2\",\n    style: {\n      paddingTop: '2rem'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    placeholder: \"\\u0412\\u0441\\u0442\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0441\\u0441\\u044B\\u043B\\u043A\\u0443\",\n    id: \"link\",\n    type: \"text\",\n    value: link,\n    onChange: e => setLink(e.target.value),\n    onKeyPress: pressHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0441\\u044B\\u043B\\u043A\\u0443\"))));\n};","map":{"version":3,"sources":["C:/web/site/mern-full-course/client/src/pages/CreatePage.js"],"names":["React","useContext","useEffect","useState","useHttp","AuthContext","useHistory","CreatePage","history","auth","request","link","setLink","window","M","updateTextFields","pressHandler","event","key","data","from","Authorization","token","push","_id","e","paddingTop","target","value"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,SAA3B,EAAsCC,QAAtC,QAAqD,OAArD;AACA,SAAQC,OAAR,QAAsB,oBAAtB;AACA,SAAQC,WAAR,QAA0B,wBAA1B;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAM;AAC9B,QAAMC,OAAO,GAAGF,UAAU,EAA1B;AACA,QAAMG,IAAI,GAAGR,UAAU,CAACI,WAAD,CAAvB;;AAF8B,mBAGZD,OAAO,EAHK;AAAA,QAGvBM,OAHuB,YAGvBA,OAHuB;;AAAA,oBAINP,QAAQ,CAAC,EAAD,CAJF;AAAA;AAAA,QAIvBQ,IAJuB;AAAA,QAIjBC,OAJiB;;AAM9BV,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,MAAM,CAACC,CAAP,CAASC,gBAAT;AACD,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMC,YAAY,GAAG,MAAMC,KAAN,IAAe;AAClC,QAAIA,KAAK,CAACC,GAAN,KAAc,OAAlB,EAA2B;AACzB,UAAI;AACF,cAAMC,IAAI,GAAG,MAAMT,OAAO,CAAC,oBAAD,EAAuB,MAAvB,EAA+B;AAACU,UAAAA,IAAI,EAAET;AAAP,SAA/B,EAA6C;AACrEU,UAAAA,aAAa,EAAG,UAASZ,IAAI,CAACa,KAAM;AADiC,SAA7C,CAA1B;AAGAd,QAAAA,OAAO,CAACe,IAAR,CAAc,WAAUJ,IAAI,CAACR,IAAL,CAAUa,GAAI,EAAtC;AACD,OALD,CAKE,OAAOC,CAAP,EAAU,CAAE;AACf;AACF,GATD;;AAWA,SACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAkC,IAAA,KAAK,EAAE;AAACC,MAAAA,UAAU,EAAE;AAAb,KAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,WAAW,EAAC,uFADd;AAEE,IAAA,EAAE,EAAC,MAFL;AAGE,IAAA,IAAI,EAAC,MAHP;AAIE,IAAA,KAAK,EAAEf,IAJT;AAKE,IAAA,QAAQ,EAAEc,CAAC,IAAIb,OAAO,CAACa,CAAC,CAACE,MAAF,CAASC,KAAV,CALxB;AAME,IAAA,UAAU,EAAEZ,YANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EASE;AAAO,IAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uFATF,CADF,CADF,CADF;AAiBD,CAtCM","sourcesContent":["import React, {useContext, useEffect, useState} from 'react'\r\nimport {useHttp} from '../hooks/http.hook'\r\nimport {AuthContext} from '../context/AuthContext'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nexport const CreatePage = () => {\r\n  const history = useHistory()\r\n  const auth = useContext(AuthContext)\r\n  const {request} = useHttp()\r\n  const [link, setLink] = useState('')\r\n\r\n  useEffect(() => {\r\n    window.M.updateTextFields()\r\n  }, [])\r\n\r\n  const pressHandler = async event => {\r\n    if (event.key === 'Enter') {\r\n      try {\r\n        const data = await request('/api/link/generate', 'POST', {from: link}, {\r\n          Authorization: `Bearer ${auth.token}`\r\n        })\r\n        history.push(`/detail/${data.link._id}`)\r\n      } catch (e) {}\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col s8 offset-s2\" style={{paddingTop: '2rem'}}>\r\n        <div className=\"input-field\">\r\n          <input\r\n            placeholder=\"Вставьте ссылку\"\r\n            id=\"link\"\r\n            type=\"text\"\r\n            value={link}\r\n            onChange={e => setLink(e.target.value)}\r\n            onKeyPress={pressHandler}\r\n          />\r\n          <label htmlFor=\"link\">Введите ссылку</label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}